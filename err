(.venv311) rasp@raspberrypi:~/mpcrl_succed/mpcrl_real $ python main_real_detail.py 
📝 Logging to logs/mpc_20251031_190926.log
🚀 Real-world MPC (CasADi) starting...
❌ MQTT connection failed: timed out
💡 Mosquitto가 실행 중인지 확인하세요.
📡 Subscribed topics: {'sensor': 'farmA/esp1/sensor', 'disturbance': 'farmA/esp1/disturbance', 'actuator_control': 'farmA/esp1/actuator/control'}
Traceback (most recent call last):
  File "/home/rasp/mpcrl_succed/mpcrl_real/main_real_detail.py", line 44, in <module>
    mpc = LearningMpcCasADi(ts=env.sample_time, N=24)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rasp/mpcrl_succed/mpcrl_real/learning_real_detail.py", line 46, in __init__
    self._build_mpc()
    ^^^^^^^^^^^^^^^
AttributeError: 'LearningMpcCasADi' object has no attribute '_build_mpc'

---

(.venv311) rasp@raspberrypi:~/mpcrl_succed/mpcrl_real $ python main_real_detail.py 
📝 Logging to logs/mpc_20251031_191613.log
🚀 Real-world MPC (CasADi) starting...
❌ MQTT connection failed: timed out
💡 Mosquitto가 실행 중인지 확인하세요.
📡 Subscribed topics: {'sensor': 'farmA/esp1/sensor', 'disturbance': 'farmA/esp1/disturbance', 'actuator_control': 'farmA/esp1/actuator/control'}
Traceback (most recent call last):
  File "/home/rasp/mpcrl_succed/mpcrl_real/main_real_detail.py", line 44, in <module>
    mpc = LearningMpcCasADi(ts=env.sample_time, N=24)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rasp/mpcrl_succed/mpcrl_real/learning_real_detail.py", line 45, in __init__
    self._build_mpc()
  File "/home/rasp/mpcrl_succed/mpcrl_real/learning_real_detail.py", line 77, in _build_mpc
    x_next = x[:, k] + self.ts * f_dyn(x[:, k], u[:, k], d)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/rasp/mpcrl_succed/mpcrl_real/learning_real_detail.py", line 62, in f_dyn
    temp, hum, co2, light = xk
    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/rasp/checkjin/.venv311/lib/python3.11/site-packages/casadi/casadi.py", line 16299, in __iter__
    raise Exception("""CasADi matrices are not iterable by design.
Exception: CasADi matrices are not iterable by design.
                      Did you mean to iterate over m.nz, with m IM/DM/SX?
                      Did you mean to iterate over horzsplit(m,1)/vertsplit(m,1) with m IM/DM/SX/MX?
