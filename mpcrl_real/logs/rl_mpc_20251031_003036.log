🚀 Real-world RL-MPC (CasADi) starting...
✅ MQTT connected → 211.106.231.24:1883
🟢 MQTT connected successfully, subscribed to {'sensor': 'farmA/esp1/sensor', 'disturbance': 'farmA/esp1/disturbance', 'actuator_control': 'farmA/esp1/actuator/control'}
📡 Subscribed topics: {'sensor': 'farmA/esp1/sensor', 'disturbance': 'farmA/esp1/disturbance', 'actuator_control': 'farmA/esp1/actuator/control'}
-------------------------------------------
This is casadi::QRQP
Number of variables:                             244
Number of constraints:                           172
Number of nonzeros in H:                         832
Number of nonzeros in A:                         529
Number of nonzeros in KKT:                      2062
Number of nonzeros in QR(V):                    3055
Number of nonzeros in QR(R):                    5799
✅ RL-MPC loop running...

 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0       4.2   250     3e+02     3     0.047   257         0  
    1     0  -1.3e+06   1.1e-09   314   7.9e-10   108     0.047   257         1  Converged
MESSAGE(sqpmethod): Convergence achieved after 1 iterations
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.04999997608027655, 'led': 0.0, 'timestamp': 1761838237.5871036}
🏆 reward=-29.0000 | growth=-5.0000 energy=0.0025 violation=24.0000

────────────────────────────────────────────
⏱ [STEP 001] t=1761838237.59 (Δt=5.0s)
🌡  Temp=0.0°C  💧Hum=0.0%  ☁️CO₂=0ppm  💡Light=0.0lx
🌞  Rad=0W/m²   🌬OutT=15.0°C  💧OutH=50%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.05
🏆 Reward = -29.0000
────────────────────────────────────────────
📩 MQTT farmA/esp1/sensor : {'temp_in': 26.3, 'hum_in': 54.0, 'co2_in': 403.0, 'light_in': 288.0, 'timestamp': 1761838240.091933}
📩 MQTT farmA/esp1/disturbance : {'solar_rad': 360, 'co2_out': 383, 'temp_out': 24.3, 'hum_out': 59, 'timestamp': 1761838240.091933}
 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0     4e+02   246     3e+02     3     0.047   257         0  
    1     0  -7.4e+05   5.8e-11   328   8.6e-11   159     0.047   257         1  Converged
MESSAGE(sqpmethod): Convergence achieved after 1 iterations
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.0, 'led': 0.0, 'timestamp': 1761838242.5891166}
🏆 reward=-2.7920 | growth=-0.6420 energy=0.0000 violation=2.1500

────────────────────────────────────────────
⏱ [STEP 002] t=1761838242.59 (Δt=5.0s)
🌡  Temp=26.3°C  💧Hum=54.0%  ☁️CO₂=403ppm  💡Light=288.0lx
🌞  Rad=360W/m²   🌬OutT=24.3°C  💧OutH=59%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.00
🏆 Reward = -2.7920
────────────────────────────────────────────
📩 MQTT farmA/esp1/sensor : {'temp_in': 26.0, 'hum_in': 55.0, 'co2_in': 404.0, 'light_in': 280.0, 'timestamp': 1761838245.1044378}
📩 MQTT farmA/esp1/disturbance : {'solar_rad': 350, 'co2_out': 384, 'temp_out': 24.0, 'hum_out': 60, 'timestamp': 1761838245.1044378}
 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0         8   247        25     0     0.047   257         0  
    1     0    -1e+02   6.1e-11   258   8.1e-11   105     0.047   257         1  Converged
MESSAGE(sqpmethod): Convergence achieved after 1 iterations
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.0, 'led': 0.0, 'timestamp': 1761838247.5908556}
🏆 reward=-2.5700 | growth=-0.5700 energy=0.0000 violation=2.0000

────────────────────────────────────────────
⏱ [STEP 003] t=1761838247.59 (Δt=5.0s)
🌡  Temp=26.0°C  💧Hum=55.0%  ☁️CO₂=404ppm  💡Light=280.0lx
🌞  Rad=350W/m²   🌬OutT=24.0°C  💧OutH=60%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.00
🏆 Reward = -2.5700
────────────────────────────────────────────
📩 MQTT farmA/esp1/sensor : {'temp_in': 25.8, 'hum_in': 56.0, 'co2_in': 405.0, 'light_in': 272.0, 'timestamp': 1761838250.114887}
📩 MQTT farmA/esp1/disturbance : {'solar_rad': 340, 'co2_out': 385, 'temp_out': 23.8, 'hum_out': 61, 'timestamp': 1761838250.114887}
 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0         8   247        24     0     0.047   257         0  
    1     0       -19   1.2e-10   258   1.7e-10   105     0.047   257         1  Converged
MESSAGE(sqpmethod): Convergence achieved after 1 iterations
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.0, 'led': 0.0, 'timestamp': 1761838252.5929282}
🏆 reward=-2.4080 | growth=-0.5080 energy=0.0000 violation=1.9000

────────────────────────────────────────────
⏱ [STEP 004] t=1761838252.59 (Δt=5.0s)
🌡  Temp=25.8°C  💧Hum=56.0%  ☁️CO₂=405ppm  💡Light=272.0lx
🌞  Rad=340W/m²   🌬OutT=23.8°C  💧OutH=61%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.00
🏆 Reward = -2.4080
────────────────────────────────────────────
 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0   1.2e-10   258        28     3     0.047   257         0  
    1     0  -1.5e-11   7.1e-11   300     1e-10   117     0.047   257         1  Converged
MESSAGE(sqpmethod): Convergence achieved after 1 iterations
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.0, 'led': 0.0, 'timestamp': 1761838257.5951827}
🏆 reward=-2.4080 | growth=-0.5080 energy=0.0000 violation=1.9000

────────────────────────────────────────────
⏱ [STEP 005] t=1761838257.59 (Δt=5.0s)
🌡  Temp=25.8°C  💧Hum=56.0%  ☁️CO₂=405ppm  💡Light=272.0lx
🌞  Rad=340W/m²   🌬OutT=23.8°C  💧OutH=61%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.00
🏆 Reward = -2.4080
────────────────────────────────────────────
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0   7.1e-11   300        28     3     0.047   257         0  
    1     0  -9.1e-13     4e-11   314   1.3e-10   105     0.047   257         1  Converged
MESSAGE(sqpmethod): Convergence achieved after 1 iterations
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.0, 'led': 0.0, 'timestamp': 1761838262.5973647}
🏆 reward=-2.4080 | growth=-0.5080 energy=0.0000 violation=1.9000

────────────────────────────────────────────
⏱ [STEP 006] t=1761838262.60 (Δt=5.0s)
🌡  Temp=25.8°C  💧Hum=56.0%  ☁️CO₂=405ppm  💡Light=272.0lx
🌞  Rad=340W/m²   🌬OutT=23.8°C  💧OutH=61%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.00
🏆 Reward = -2.4080
────────────────────────────────────────────
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0     4e-11   314        28     3     0.047   257         0  
    1     0  -9.2e-13   6.1e-11   314   9.5e-11   111     0.047   257         1  Converged
MESSAGE(sqpmethod): Search direction becomes too small without convergence criteria being met.
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.0, 'led': 0.0, 'timestamp': 1761838267.5992126}
🏆 reward=-2.4080 | growth=-0.5080 energy=0.0000 violation=1.9000

────────────────────────────────────────────
⏱ [STEP 007] t=1761838267.60 (Δt=5.0s)
🌡  Temp=25.8°C  💧Hum=56.0%  ☁️CO₂=405ppm  💡Light=272.0lx
🌞  Rad=340W/m²   🌬OutT=23.8°C  💧OutH=61%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.00
🏆 Reward = -2.4080
────────────────────────────────────────────
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0   5.3e-11   314        28     3     0.047   257         0  
    1     0    -9e-13   6.3e-11   328   9.5e-11   111     0.047   257         1  Converged
MESSAGE(sqpmethod): Search direction becomes too small without convergence criteria being met.
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.0, 'led': 0.0, 'timestamp': 1761838272.6013165}
🏆 reward=-2.4080 | growth=-0.5080 energy=0.0000 violation=1.9000

────────────────────────────────────────────
⏱ [STEP 008] t=1761838272.60 (Δt=5.0s)
🌡  Temp=25.8°C  💧Hum=56.0%  ☁️CO₂=405ppm  💡Light=272.0lx
🌞  Rad=340W/m²   🌬OutT=23.8°C  💧OutH=61%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.00
🏆 Reward = -2.4080
────────────────────────────────────────────
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0   5.6e-11   258        28     3     0.047   257         0  
    1     0  -3.1e-12   7.4e-11   314   1.1e-10   105     0.047   257         1  Converged
MESSAGE(sqpmethod): Convergence achieved after 1 iterations
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.0, 'led': 0.0, 'timestamp': 1761838277.6032438}
🏆 reward=-2.4080 | growth=-0.5080 energy=0.0000 violation=1.9000

────────────────────────────────────────────
⏱ [STEP 009] t=1761838277.60 (Δt=5.0s)
🌡  Temp=25.8°C  💧Hum=56.0%  ☁️CO₂=405ppm  💡Light=272.0lx
🌞  Rad=340W/m²   🌬OutT=23.8°C  💧OutH=61%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.00
🏆 Reward = -2.4080
────────────────────────────────────────────
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0   7.4e-11   314        28     3     0.047   257         0  
    1     0  -1.9e-12   7.4e-11   314   6.1e-11   105     0.047   257         1  Converged
MESSAGE(sqpmethod): Search direction becomes too small without convergence criteria being met.
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.0, 'led': 0.0, 'timestamp': 1761838282.6054916}
🏆 reward=-2.4080 | growth=-0.5080 energy=0.0000 violation=1.9000

────────────────────────────────────────────
⏱ [STEP 010] t=1761838282.60 (Δt=5.0s)
🌡  Temp=25.8°C  💧Hum=56.0%  ☁️CO₂=405ppm  💡Light=272.0lx
🌞  Rad=340W/m²   🌬OutT=23.8°C  💧OutH=61%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.00
🏆 Reward = -2.4080
────────────────────────────────────────────
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0   7.4e-11   314        28     3     0.047   257         0  
    1     0  -4.2e-14   5.1e-11   314   9.5e-11   111     0.047   257         1  Converged
MESSAGE(sqpmethod): Convergence achieved after 1 iterations
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.0, 'led': 0.0, 'timestamp': 1761838287.6074388}
🏆 reward=-2.4080 | growth=-0.5080 energy=0.0000 violation=1.9000

────────────────────────────────────────────
⏱ [STEP 011] t=1761838287.61 (Δt=5.0s)
🌡  Temp=25.8°C  💧Hum=56.0%  ☁️CO₂=405ppm  💡Light=272.0lx
🌞  Rad=340W/m²   🌬OutT=23.8°C  💧OutH=61%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.00
🏆 Reward = -2.4080
────────────────────────────────────────────
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0   5.1e-11   314        28     3     0.047   257         0  
    1     0  -1.5e-12   8.2e-11   314   4.4e-11   111     0.047   257         1  Converged
MESSAGE(sqpmethod): Search direction becomes too small without convergence criteria being met.
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.0, 'led': 0.0, 'timestamp': 1761838292.6093056}
🏆 reward=-2.4080 | growth=-0.5080 energy=0.0000 violation=1.9000

────────────────────────────────────────────
⏱ [STEP 012] t=1761838292.61 (Δt=5.0s)
🌡  Temp=25.8°C  💧Hum=56.0%  ☁️CO₂=405ppm  💡Light=272.0lx
🌞  Rad=340W/m²   🌬OutT=23.8°C  💧OutH=61%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.00
🏆 Reward = -2.4080
────────────────────────────────────────────
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0   7.1e-11   314        28     3     0.047   257         0  
    1     0   9.5e-13   3.4e-11   314   9.5e-11   111     0.047   257         1  Converged
MESSAGE(sqpmethod): Convergence achieved after 1 iterations
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.0, 'led': 0.0, 'timestamp': 1761838297.6111443}
🏆 reward=-2.4080 | growth=-0.5080 energy=0.0000 violation=1.9000

────────────────────────────────────────────
⏱ [STEP 013] t=1761838297.61 (Δt=5.0s)
🌡  Temp=25.8°C  💧Hum=56.0%  ☁️CO₂=405ppm  💡Light=272.0lx
🌞  Rad=340W/m²   🌬OutT=23.8°C  💧OutH=61%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.00
🏆 Reward = -2.4080
────────────────────────────────────────────
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0   3.4e-11   314        28     3     0.047   257         0  
    1     0  -3.2e-12   5.9e-11   314   9.5e-11   111     0.047   257         1  Converged
MESSAGE(sqpmethod): Search direction becomes too small without convergence criteria being met.
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.0, 'led': 0.0, 'timestamp': 1761838302.613243}
🏆 reward=-2.4080 | growth=-0.5080 energy=0.0000 violation=1.9000

────────────────────────────────────────────
⏱ [STEP 014] t=1761838302.61 (Δt=5.0s)
🌡  Temp=25.8°C  💧Hum=56.0%  ☁️CO₂=405ppm  💡Light=272.0lx
🌞  Rad=340W/m²   🌬OutT=23.8°C  💧OutH=61%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.00
🏆 Reward = -2.4080
────────────────────────────────────────────
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
 Iter  Sing        fk      |pr|   con      |du|   var     min_R   con  last_tau  Note
    0     0         0     5e-11   314        28     3     0.047   257         0  
    1     0  -4.3e-13   7.5e-11   258     1e-10   117     0.047   257         1  Converged
MESSAGE(sqpmethod): Search direction becomes too small without convergence criteria being met.
📤 Sent actuator command → {'fan': 0.0, 'heater': 0.0, 'led': 0.0, 'timestamp': 1761838307.6153626}
🏆 reward=-2.4080 | growth=-0.5080 energy=0.0000 violation=1.9000

────────────────────────────────────────────
⏱ [STEP 015] t=1761838307.61 (Δt=5.0s)
🌡  Temp=25.8°C  💧Hum=56.0%  ☁️CO₂=405ppm  💡Light=272.0lx
🌞  Rad=340W/m²   🌬OutT=23.8°C  💧OutH=61%
⚙️  u_opt → FAN=0.00 | HEATER=0.00 | LED=0.00
🏆 Reward = -2.4080
────────────────────────────────────────────
[WARN] Sensor payload stale (> timeout).
[WARN] Disturbance payload stale (> timeout).
